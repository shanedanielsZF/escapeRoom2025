<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>ZF Results</title>
        <link rel="stylesheet" href="style.css" />
        <script src="script.js"></script>
    </head>
    <body>
        <header>
            <div class="header-left"><img src="assets/zf-logo.png" alt="ZF Logo" class="logo" /></div>
            <div class="header-center">
                <h1>Results</h1>
            </div>
        </header>

        <script src="https://cdn.jsdelivr.net/npm/canvas-confetti@1.6.0/dist/confetti.browser.min.js"></script>
        <script>
            // Fire confetti when page loads
            window.onload = () => {
                confetti({
                    particleCount: 200,
                    spread: 100,
                    origin: { y: 0.6 },
                });
            };
        </script>

        <main class="container">
            <h1 style="font-size: 3em; color: #004c97; text-align: center">ðŸŽ‰ Congratulations! ðŸŽ‰</h1>
            <div style="max-width: 500px; margin: 20px auto; padding: 20px; background: #fff; border-radius: 12px; box-shadow: 0 4px 10px rgba(0, 0, 0, 0.2); text-align: center">
                <h2>Team: <span id="teamName"></span></h2>
                <h3>Total Time: <span id="finalTime"></span></h3>
            </div>
        </main>

        <footer>&copy; ZF Friedrichshafen AG</footer>

        <script>
            // Get stored values
            const name = localStorage.getItem('teamName') || 'Unknown Team';
            const start = parseInt(localStorage.getItem('startTime')) || Date.now();
            const penalty = parseInt(localStorage.getItem('penalty')) || 0;

            // Calculate elapsed time
            const now = Date.now();
            const elapsedSeconds = Math.floor((now - start) / 1000) + penalty * 60;

            // Format time
            const mins = Math.floor(elapsedSeconds / 60);
            const secs = elapsedSeconds % 60;
            const formattedTime = `${mins}:${secs.toString().padStart(2, '0')}`;

            // Display
            document.getElementById('teamName').textContent = name;
            document.getElementById('finalTime').textContent = formattedTime;
        </script>
    </body>
</html>
